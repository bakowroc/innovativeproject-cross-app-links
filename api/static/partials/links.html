<div class="col-lg-12 col-md-12 col-sm12 col-xs-12 pull-left no-box-el">
    <a href="add-link" class="button blue pull-left"><span class="glyphicon glyphicon-plus"></span>Add new link</a>
    <div class="search-by single-input pull-right">
        <input type='text' ng-model='searchBy' placeholder='Search link by name'>
    </div>
</div>
<div class="col-lg-4 col-md-6 col-sm-12 col-xs-12" ng-repeat='app in apps | orderBy : id : true | filter: {name: searchBy}'>
    <div class="box link-box">
        <div class="main-link-info">
            <img src="../static/img/app-img/{{app.img_link}}.png">
            <h3 class="main-link-heading">{{app.name}}</h3>
        </div>
        <div class="main-link-href">
            <a href="{{app.link}}" target="_blank">{{app.link}}</a>
        </div>
        <div class="main-link-desc">
            <p>{{app.desc}}</p>
        </div>
        <div class="bottom-nav">
            <a class="creator-link pull-left text-left" href="profile/{{app.creator.id}}">{{app.creator.username}}</a>
            <a class="button blue small  margined pull-right" href="links/{{app.id}}"><span class="glyphicon glyphicon-cog"></span></a>
            <a class="button red small pull-right" href="#" ng-click="newlink.delete(app.id)"><span class="glyphicon glyphicon-trash"></span></a>
        </div>
    </div>
</div>

<div ng-if="filterParams.manage()>0" class="popup" ng-repeat="app in apps | filter : {id: filterParams.manage()}:true">
    <div class="no-box-el error-form-box" ng-show="form.$submitted">
        <span class='pull-left text-left error' ng-show="form.$pristine"><span class="glyphicon glyphicon-remove"></span>You have to edit something!</span>

        <div class="form.$invalid">
            <span class='pull-left text-left error' ng-show="form.name.$error.required"><span class="glyphicon glyphicon-remove"></span>Required link name!</span>
            <span class='pull-left text-left error' ng-show="form.name.$error.minlength"><span class="glyphicon glyphicon-remove"></span>Too short link name!</span>

            <span class='pull-left text-left error' ng-show="form.address.$error.required"><span class="glyphicon glyphicon-remove"></span>Required url!</span>
            <span class='pull-left text-left error' ng-show="form.address.$error.linkformat"><span class="glyphicon glyphicon-remove"></span>Wrong url!</span>

            <span class='pull-left text-left error' ng-show="form.desc.$error.required"><span class="glyphicon glyphicon-remove"></span>Required description!</span>
            <span class='pull-left text-left error' ng-show="form.desc.$error.maxlength"><span class="glyphicon glyphicon-remove"></span>Too long description!</span>
            <span class='pull-left text-left error' ng-show="form.desc.$error.minlength"><span class="glyphicon glyphicon-remove"></span>Too short description!</span>

        </div>
    </div>
    <form ng-init="newlink.manageFill(app.name,app.link,app.desc, app.img_link)" name='form' class="box box-form no-shadow" ng-submit="form.$valid && form.$dirty && newlink.update(app.id)" novalidate>
        <header>
            <h3 class="blue">Edit link</h3>
        </header>
        <input type='text' name='name' ng-model='newlink.name' minlength="3" maxlength="30" placeholder='Set a name for your link' required>
        <input type='text' name='address' ng-model='newlink.address' placeholder='Paste the address' required link-required>
        <textarea name='desc' ng-model='newlink.desc' minlength="12" maxlength="50" placeholder="Write a little bit about it" required></textarea>

        <button type="submit" class='button blue pull-right'>Confirm</button>
        <img width="40px" src="/static/img/app-img/{{newlink.img_link}}.png">
        <input type="file" nv-file-select="" uploader="newlink.uploader" requried>
    </form>
</div>
<div class="success-bar" ng-show="newlink.status">
    Success! You've just added a link.
</div>

<div class="black-bg" ng-if="filterParams.manage()>0" ng-click="popup.edit.close()"></div>