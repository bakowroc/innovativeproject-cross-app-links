<if ng-if="!current_user.group.user_add" ng-init="redirectToDash()">
</if>
<if ng-if="current_user.group.user_add">
    <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12">
        <div class="login-container">
            <div class="box box-form">
                <header>
                    <h3 class="orange">Invite new user!</h3>
                    <div class="header-icon"><span class="glyphicon glyphicon-option-horizontal"></span></div>

                </header>
                <form class="login-form" method="POST" name="login_form" action="/api/auth/register">
                    <div class="input-socket">
                        <input type="text" name="email" placeholder="User e-mail" required>
                    </div>
                    <p>Select user permission group:</p>
                    <select name="group">
                    <option ng-repeat="group in groups | orderBy:'-id'" value={{group.id}}>{{group.name}}</option>
                </select>
                    <button type="submit" class='button blue pull-right'>Confirm</button>
                </form>
            </div>
        </div>
    </div>
    <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12">
        <div class="login-container">
            <div class="box box-form">
                <header>
                    <h3 class="orange">Remove user from application.</h3>
                    <div class="header-icon"><span class="glyphicon glyphicon-option-horizontal"></span></div>
                </header>


                <form class="login-form " method="POST" name="remove_form" novalidate ng-submit="remove_form.$valid && removeUser(removeEmail)" action="/api/auth/remove">
                    <div class="input-socket">
                        <input type="text" name="email" ng-model="removeEmail" placeholder="User e-mail" required>

                    </div>
                    <button type="submit" class='button orange pull-right'>Confirm</button>
                </form>


            </div>
        </div>
    </div>
</if>
<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
    <div class="search-by single-input pull-right">
        <input class="pull-right" type='text' ng-model='searchBy' placeholder='Search by user'>
    </div>
</div>
<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
    <div class="box box-table">
        <table class="table ">
            <header>
                <h3 class="green">Pending invites</h3>
                <div class="header-icon"><span class="glyphicon glyphicon-option-horizontal"></span></div>
            </header>
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Email</th>
                    <th>Group</th>
                    <th>Maker</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="invite in invites | limitTo : limit.invites| filter : {email : searchBy}" ng-show="invites.length">
                    <td>{{invite.id}}</td>
                    <td>{{invite.email}}</td>
                    <td>{{invite.group}}</td>
                    <td>{{invite.maker}}</td>
                </tr>
            </tbody>
        </table>
        <span class="warning-text" ng-hide="invites.length">No invites yet.</span>
        <div class="full-width-button-area">
            <a href="#" class="button green pull-right" ng-click="limit.invites=limit.invites+2"><span class="glyphicon glyphicon-align-left"></span>Show me more</a>
        </div>
    </div>
</div>

