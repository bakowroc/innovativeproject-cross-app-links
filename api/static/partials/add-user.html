<if ng-if="current_user.id > 0">
<if ng-if="!current_user.group.user_add" ng-init="redirectToDash()">
</if>
<if ng-if="current_user.group.user_add">
    <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12">
        <div class="login-container">
            <div class="box box-form">
                <header>
                    <h3 class="orange">Invite new user!</h3>
                </header>
                <form name="add_user_form" ng-submit="add_user_form.$valid && invite.add()" novalidate>
                    <div class="input-socket">
                        <input type="email" name="email" ng-model="invite.email" placeholder="User e-mail" required>
                    </div>
                    <p>Select user permission group:</p>
                    <select class="pull-left" name="group" ng-model="invite.group" required>
                        <option ng-repeat="group in groups | orderBy:'-id'" value={{group.id}}>{{group.name}}</option>
                    </select>
                    <button type="submit" class='button blue pull-right'>Confirm</button>
                </form>
            </div>
        </div>
    </div>
    <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12">
        <div class="login-container">
            <div class="box box-form">
                <header>
                    <h3 class="orange">Remove user from application.</h3>
                </header>
                <form name="remove_form" ng-submit="remove_form.$valid && invite.deleteUser(current_user.email, users, removeEmail)" novalidate>
                    <div class="input-socket">
                        <input type="email" name="email" ng-model="removeEmail" placeholder="User e-mail" required>
                    </div>
                    <button type="submit" class='button orange pull-right'>Confirm</button>
                </form>


            </div>
        </div>
    </div>
</if>
<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
    <div class="search-by single-input pull-right">
    </div>
</div>
<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
    <div class="box box-table">
        <table class="table ">
            <header>
                <h3 class="green">Pending invites ({{(invites|filter: {active:true}).length}})</h3>
            </header>
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Email</th>
                    <th>Group</th>
                    <th>Sender</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="s_invite in invites | filter : {active:true}" ng-show="invites.length">
                    <td>{{s_invite.id}}</td>
                    <td>{{s_invite.email}}</td>
                    <td>{{s_invite.groups.name}}</td>
                    <td>{{s_invite.inviter.username}}</td>
                    <td>
                        <span class="button orange" ng-click="invite.delete(s_invite.id)">Cancel invite</span>
                    </td>
                </tr>
            </tbody>
        </table>
        <span class="warning-text" ng-hide="invites.length">No invites yet.</span>
<!--         <div class="full-width-button-area">
            <a href="#" class="button green pull-right" ng-click="limit.invites=limit.invites+2"><span class="glyphicon glyphicon-align-left"></span>Show me more</a>
        </div> -->
    </div>
</div>
</if>

